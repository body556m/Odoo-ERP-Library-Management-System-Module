<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        
        <record id="mail_template_borrowing_confirmation" model="mail.template">
            <field name="name">Library: Borrowing Confirmation</field>
            <field name="model_id" ref="model_borrowing_records"/>
            <field name="subject">Borrowing Confirmation Ref {{ object.name }}</field>
            <field name="email_from">{{ (object.create_uid.email_formatted or user.email_formatted) }}</field>
            <field name="partner_to">{{ object.member_id.partner_id.id }}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        Dear <t t-out="object.member_id.name or ''">Member</t>,<br/><br/>
                        This is a confirmation that you have borrowed the following books on <t t-out="object.date_borrowed or ''">Date</t>:<br/>
                        <ul>
                            <t t-foreach="object.borrowing_line_ids" t-as="line">
                                <li><strong><t t-out="line.book_id.title or ''">Book Title</t></strong></li>
                            </t>
                        </ul>
                        <br/>
                        Please return them by <strong><t t-out="object.date_expected_return or ''">Return Date</t></strong> to avoid any late fees.
                        <br/><br/>
                        Thank you,<br/>
                        Library Management Team
                    </p>
                </div>
            </field>
        </record>

        <record id="mail_template_return_reminder" model="mail.template">
            <field name="name">Library: Return Reminder</field>
            <field name="model_id" ref="model_borrowing_records"/>
            <field name="subject">Reminder: Books Due for Return Ref {{ object.name }}</field>
            <field name="email_from">{{ (object.create_uid.email_formatted or user.email_formatted) }}</field>
            <field name="partner_to">{{ object.member_id.partner_id.id }}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        Dear <t t-out="object.member_id.name or ''">Member</t>,<br/><br/>
                        This is a gentle reminder that the following books are due for return on <strong><t t-out="object.date_expected_return or ''">Return Date</t></strong>:<br/>
                        <ul>
                            <t t-foreach="object.borrowing_line_ids" t-as="line">
                                <li><strong><t t-out="line.book_id.title or ''">Book Title</t></strong></li>
                            </t>
                        </ul>
                        <br/>
                        Please return them on time.
                        <br/><br/>
                        Thank you,<br/>
                        Library Management Team
                    </p>
                </div>
            </field>
        </record>

        <record id="mail_template_overdue_notification" model="mail.template">
            <field name="name">Library: Overdue Notification</field>
            <field name="model_id" ref="model_borrowing_records"/>
            <field name="subject">Urgent: Overdue Books Ref {{ object.name }}</field>
            <field name="email_from">{{ (object.create_uid.email_formatted or user.email_formatted) }}</field>
            <field name="partner_to">{{ object.member_id.partner_id.id }}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        Dear <t t-out="object.member_id.name or ''">Member</t>,<br/><br/>
                        The following books borrowed by you are now <strong>OVERDUE</strong>:<br/>
                        <ul>
                            <t t-foreach="object.borrowing_line_ids" t-as="line">
                                <li><strong><t t-out="line.book_id.title or ''">Book Title</t></strong></li>
                            </t>
                        </ul>
                        <br/>
                        Due Date was: <strong><t t-out="object.date_expected_return or ''">Return Date</t></strong>.
                        <br/>
                        Late fees may apply. Please return them immediately.
                        <br/><br/>
                        Thank you,<br/>
                        Library Management Team
                    </p>
                </div>
            </field>
        </record>

    </data>
</odoo>
